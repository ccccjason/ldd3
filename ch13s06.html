<html xmlns:cf="http://docbook.sourceforge.net/xmlns/chunkfast/1.0">

<!-- Mirrored from oss.org.cn/kernel-book/ldd3/ch13s06.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 13 Aug 2014 05:50:38 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>13.6.&#160;快速參考-Linux設備驅動第三版（中文版）</title>
<meta name="description" content="驅動開發" />
<meta name="keywords" content="Linux設備驅動,中文版,第三版,ldd,linux device driver,驅動開發,電子版,程序設計,軟件開發,開發頻道" />
<meta name="author" content="" /> 
<meta name="verify-v1" content="5asbXwkS/Vv5OdJbK3Ix0X8osxBUX9hutPyUxoubhes=" />
<link rel="stylesheet" href="docbook.html" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.69.0">
<link rel="start" href="index-2.html" title="Linux 設備驅動 Edition 3">
<link rel="up" href="ch13.html" title="第&#160;13&#160;章&#160;USB 驅動">
<link rel="prev" href="ch13s05.html" title="13.5.&#160;無 urb 的 USB 傳送">
<link rel="next" href="ch14.html" title="第&#160;14&#160;章&#160;Linux 設備模型">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">13.6.&#160;快速參考</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="ch13s05.html">上一頁</a>&#160;</td>
<th width="60%" align="center">第&#160;13&#160;章&#160;USB 驅動</th>
<td width="20%" align="right">&#160;<a accesskey="n" href="ch14.html">下一頁</a>
</td>
</tr>
</table>
<hr>
</div>
<div class="sect1" lang="zh-cn">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="USBDriversqr.sect1"></a>13.6.&#160;快速參考</h2></div></div></div>
<p>本節總結本章介紹的符號:</p>
<div class="variablelist"><dl>
<dt><span class="term"><span>#include &lt;linux/usb.h&gt;</span></span></dt>
<dd><p>所有和 USB 相關的頭文件. 它必須被所有的 USB 設備驅動包含.</p></dd>
<dt><span class="term"><span>struct usb_driver;</span></span></dt>
<dd><p>描述 USB 驅動的結構.</p></dd>
<dt><span class="term"><span>struct usb_device_id;</span></span></dt>
<dd><p>描述這個驅動支持的 USB 設備的結構.</p></dd>
<dt><span class="term"><span>int usb_register(struct usb_driver *d);</span></span></dt>
<dd><p>用來從USB核心註冊和註銷一個 USB 驅動的函數.</p></dd>
<dt><span class="term"><span>struct usb_device *interface_to_usbdev(struct usb_interface *intf);</span></span></dt>
<dd><p>從 struct usb_interface 獲取控制 struct usb_device *.</p></dd>
<dt><span class="term"><span>struct usb_device;</span></span></dt>
<dd><p>控制完整 USB 設備的結構.</p></dd>
<dt><span class="term"><span>struct usb_interface;</span></span></dt>
<dd><p>主 USB 設備結構, 所有的 USB 驅動用來和 USB 核心通訊的.</p></dd>
<dt><span class="term"><span>void usb_set_intfdata(struct usb_interface *intf, void *data);</span></span></dt>
<dd></dd>
<dt><span class="term"><span>void *usb_get_intfdata(struct usb_interface *intf);</span></span></dt>
<dd><p>設置和獲取在 struct usb_interface 中的私有數據指針部分的函數.</p></dd>
<dt><span class="term"><span>struct usb_class_driver;</span></span></dt>
<dd><p>描述 USB 驅動的一個結構, 這個驅動要使用 USB 主編號來和用戶空間程序通訊.</p></dd>
<dt><span class="term"><span>int usb_register_dev(struct usb_interface *intf, struct usb_class_driver *class_driver);</span></span></dt>
<dd></dd>
<dt><span class="term"><span>void usb_deregister_dev(struct usb_interface *intf, struct usb_class_driver
 *class_driver);</span></span></dt>
<dd><p>用來註冊和註銷一個特定 struct usb_interface * 結構到 struct usb_class_driver 結構的函數.</p></dd>
<dt><span class="term"><span>struct urb;</span></span></dt>
<dd><p>描述一個 USB 數據傳輸的結構.</p></dd>
<dt><span class="term"><span>struct urb *usb_alloc_urb(int iso_packets, int mem_flags);</span></span></dt>
<dd></dd>
<dt><span class="term"><span>void usb_free_urb(struct urb *urb);</span></span></dt>
<dd><p>用來創建和銷毀一個 struct usb urb*的函數.</p></dd>
<dt><span class="term"><span>int usb_submit_urb(struct urb *urb, int mem_flags);</span></span></dt>
<dd></dd>
<dt><span class="term"><span>int usb_kill_urb(struct urb *urb);</span></span></dt>
<dd></dd>
<dt><span class="term"><span>int usb_unlink_urb(struct urb *urb);</span></span></dt>
<dd><p>用來啟動和停止一個 USB 數據傳輸的函數.</p></dd>
<dt><span class="term"><span>void usb_fill_int_urb(struct urb *urb, struct usb_device *dev, unsigned int pipe, void *transfer_buffer, int buffer_length, usb_complete_t complete, void *context, int interval);</span></span></dt>
<dd></dd>
<dt><span class="term"><span>void usb_fill_bulk_urb(struct urb *urb, struct usb_device *dev, unsigned int pipe, void *transfer_buffer, int buffer_length, usb_complete_t complete, void *context);</span></span></dt>
<dd></dd>
<dt><span class="term"><span>void usb_fill_control_urb(struct urb *urb, struct usb_device *dev, unsigned int pipe, unsigned char *setup_packet, void *transfer_buffer, int buffer_ length, usb_complete_t complete, void *context);</span></span></dt>
<dd><p>用來在被提交給 USB 核心之前初始化一個 struct urb 的函數. </p></dd>
<dt><span class="term"><span>int usb_bulk_msg(struct usb_device *usb_dev, unsigned int pipe, void *data, int len, int *actual_length, int timeout);</span></span></dt>
<dd></dd>
<dt><span class="term"><span>int usb_control_msg(struct usb_device *dev, unsigned int pipe, __u8 request, __u8 requesttype, __u16 value, __u16 index, void *data, __u16 size, int timeout);</span></span></dt>
<dd><p>用來發送和接受 USB 數據的函數, 不必使用一個 struct urb. </p></dd>
</dl></div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="ch13s05.html">上一頁</a>&#160;</td>
<td width="20%" align="center"><a accesskey="u" href="ch13.html">上一級</a></td>
<td width="40%" align="right">&#160;<a accesskey="n" href="ch14.html">下一頁</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">13.5.&#160;無 urb 的 USB 傳送&#160;</td>
<td width="20%" align="center"><a accesskey="h" href="index-2.html">起始頁</a></td>
<td width="40%" align="right" valign="top">&#160;第&#160;14&#160;章&#160;Linux 設備模型</td>
</tr>
</table>
</div>
</body>
<!-- Mirrored from oss.org.cn/kernel-book/ldd3/ch13s06.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 13 Aug 2014 05:50:38 GMT -->
</html>
<div style="display:none"><script language="JavaScript" src="script.html"></script> </div>
