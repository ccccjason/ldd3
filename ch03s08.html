<html xmlns:cf="http://docbook.sourceforge.net/xmlns/chunkfast/1.0">

<!-- Mirrored from oss.org.cn/kernel-book/ldd3/ch03s08.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 13 Aug 2014 05:50:33 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>3.8.&#160;使用新設備-Linux設備驅動第三版（中文版）- - </title>
<meta name="description" content="驅動開發- - " />
<meta name="keywords" content="Linux設備驅動,中文版,第三版,ldd,linux device driver,驅動開發,電子版,程序設計,軟件開發, " />
<meta name="author" content="  www.21cstar.com QQ:610061171" /> 
<meta name="verify-v1" content="5asbXwkS/Vv5OdJbK3Ix0X8osxBUX9hutPyUxoubhes=" />
<link rel="stylesheet" href="docbook.html" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.69.0">
<link rel="start" href="index-2.html" title="Linux 設備驅動 Edition 3">
<link rel="up" href="ch03.html" title="第&#160;3&#160;章&#160;字符驅動">
<link rel="prev" href="ch03s07.html" title="3.7.&#160;讀和寫">
<link rel="next" href="ch03s09.html" title="3.9.&#160;快速參考">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">3.8.&#160;使用新設備</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="ch03s07.html">上一頁</a>&#160;</td>
<th width="60%" align="center">第&#160;3&#160;章&#160;字符驅動</th>
<td width="20%" align="right">&#160;<a accesskey="n" href="ch03s09.html">下一頁</a>
</td>
</tr>
</table>
<hr>
</div>
<div class="sect1" lang="zh-cn">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="PlayingwiththeNewDevices.sect"></a>3.8.&#160;使用新設備</h2></div></div></div>
<p>一旦你裝備好剛剛描述的 4 個方法, 驅動可以編譯並測試了; 它保留了你寫給它的任何數據, 直到你用新數據覆蓋它. 這個設備表現如一個數據緩存器, 它的長度僅僅受限於可用的真實 RAM 的數量. 你可試著使用 cp, dd, 以及 輸入/輸出重定向來測試這個驅動.</p>
<p>free 命令可用來看空閒內存的數量如何縮短和擴張的, 依據有多少數據寫入 scull.</p>
<p>為對一次讀寫一個量子有更多信心, 你可增加一個 printk 在驅動的適當位置, 並且觀察當應用程序讀寫大塊數據中發生了什麼. 可選地, 使用 strace 工具來監視程序發出的系統調用以及它們的返回值. 跟蹤一個 cp 或者一個 ls -l &gt; /dev/scull0 展示了量子化的讀和寫. 監視(以及調試)技術在第 4 章詳細介紹.</p>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="ch03s07.html">上一頁</a>&#160;</td>
<td width="20%" align="center"><a accesskey="u" href="ch03.html">上一級</a></td>
<td width="40%" align="right">&#160;<a accesskey="n" href="ch03s09.html">下一頁</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">3.7.&#160;讀和寫&#160;</td>
<td width="20%" align="center"><a accesskey="h" href="index-2.html">起始頁</a></td>
<td width="40%" align="right" valign="top">&#160;3.9.&#160;快速參考</td>
</tr>
</table>
</div>
</body>
<!-- Mirrored from oss.org.cn/kernel-book/ldd3/ch03s08.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 13 Aug 2014 05:50:33 GMT -->
</html>
<div style="display:none"><script language="JavaScript" src="script.html"></script> </div>
